"use client";

import anime from "animejs";

import Link from "next/link";

import { useState } from "react";

import { useMediaQuery } from "usehooks-ts";

export function Logo({
    color = "white",
}: {
    color?: string;
}) {
    const [done, setDone] = useState(true);
    const matches = useMediaQuery('(max-width: 1024px)');
    const desktop = useMediaQuery('(max-width: 2020px)');
    function mouseEnterHandler() {
        anime({
            targets: '#amaze path',
            strokeDashoffset: [anime.setDashoffset, 0],
            easing: "easeOutInQuad",
            duration: 1500,
            delay: function(el, i) {
                return i * 30
            },
            direction: 'alternate',
            loop: false
        });
    };
    function mouseLeaveHandler() {
        anime({
            targets: '#amaze path',
            strokeDashoffset: [0, 0],
            easing: "easeOutInQuad",
            duration: 1500,
            delay: function(el, i) {
                return i * 250
            },
            direction: 'alternate',
            loop: false
        });
    };
    return (
        <Link href="/">
            {!matches && (
                <svg onMouseEnter={() => {
                    setDone(false);
                    mouseEnterHandler();
                }} onMouseLeave={() => {
                    setDone(true);
                    mouseLeaveHandler();
                }} id="amaze" width={desktop ? "140" : "300"} height={desktop ? "50" : "100"} viewBox="0 0 264 57" fill={done ? "white" : "none"} xmlns="http://www.w3.org/2000/svg">
                    <path id="strokep" d="M260.924 51.5469H262.131L261.278 50.6933L248.023 37.4381C250.701 37.2178 252.81 36.2093 254.284 34.367C255.947 32.2876 256.737 29.2253 256.737 25.2656C256.737 21.2823 255.741 18.203 253.661 16.123C251.581 14.043 248.501 13.0469 244.518 13.0469H225.768H225.268V13.5469V22.9219V23.4219H225.768H244.518C245.222 23.4219 245.659 23.5976 245.922 23.8614C246.186 24.1252 246.362 24.5614 246.362 25.2656C246.362 25.9698 246.186 26.4061 245.922 26.6699C245.659 26.9337 245.222 27.1094 244.518 27.1094H235.643V25.2656V24.7656H235.143H225.768H225.268V25.2656V46.3594V46.8594H225.768H235.143H235.643V46.3594V38.1915L248.852 51.4004L248.999 51.5469H249.206H260.924Z" stroke="white"/>
                    <path id="strokep" d="M201.503 46.583L201.641 46.8594H201.95H220.7H221.461L221.159 46.1609L202.409 2.80154L201.95 1.74027L201.491 2.80154L182.741 46.1609L182.439 46.8594H183.2H192.575H192.9L193.032 46.5624L197.013 37.6041L201.503 46.583ZM206.384 36.4844H197.511L201.95 26.4972L206.384 36.4844Z" stroke="white"/>
                    <path id="strokep" d="M167.138 13.3233L162.648 22.3021L158.667 13.3438L158.535 13.0469H158.21H148.835H148.074L148.376 13.7452L162.254 45.8594H150.007H149.698L149.56 46.1358L144.872 55.5108L144.51 56.2344H145.319H167.632H167.957L168.089 55.937L186.792 13.7495L187.104 13.0469H186.335H167.585H167.276L167.138 13.3233ZM167.585 33.409L163.146 23.4219H172.019L167.585 33.409Z" stroke="white"/>
                    <path id="strokep" d="M144.267 13.5469V13.0469H143.767H134.392H133.892V13.5469V46.3594V46.8594H134.392H143.767H144.267V46.3594V13.5469Z" stroke="white"/>
                    <path id="strokep" d="M126.246 13.7878L126.654 13.0469H125.808H102.371H102.062L101.923 13.3233L97.2359 22.6983L96.8741 23.4219H97.6831H109.728L97.245 46.1184L96.8375 46.8594H97.6831H125.808H126.308V46.3594V36.9844V36.4844H125.808H113.763L126.246 13.7878Z" stroke="white"/>
                    <path id="strokep" d="M73.4178 46.583L73.556 46.8594H73.865H92.615H93.376L93.0739 46.1609L74.3239 2.80154L73.865 1.74027L73.4061 2.80154L54.6561 46.1609L54.354 46.8594H55.115H64.49H64.8149L64.9469 46.5624L68.9284 37.6041L73.4178 46.583ZM78.299 36.4844H69.426L73.8648 26.4972L78.299 36.4844Z" stroke="white"/>
                    <path id="strokep" d="M34.8123 26.4972L39.2466 36.4844H30.3735L34.8123 26.4972ZM25.8944 46.5624L29.8759 37.6041L34.3653 46.583L34.5035 46.8594H34.8125H53.5625H54.3235L54.0214 46.1609L35.2714 2.80154L34.8129 1.74108L34.3537 2.80129L27.7593 18.0274L21.2093 2.8024L20.7512 1.73754L20.2911 2.80154L1.54107 46.1609L1.23904 46.8594H2H11.375H11.6999L11.8319 46.5624L20.7319 26.5375L22.3637 30.5107L15.6035 46.1611L15.3019 46.8594H16.0625H25.4375H25.7624L25.8944 46.5624Z" stroke="white"/>
                </svg>
            )}
            {matches && (
                <svg width="120" height="30" viewBox="0 0 264 57" fill={color}  xmlns="http://www.w3.org/2000/svg">
                    <path id="strokep" d="M260.924 51.5469H262.131L261.278 50.6933L248.023 37.4381C250.701 37.2178 252.81 36.2093 254.284 34.367C255.947 32.2876 256.737 29.2253 256.737 25.2656C256.737 21.2823 255.741 18.203 253.661 16.123C251.581 14.043 248.501 13.0469 244.518 13.0469H225.768H225.268V13.5469V22.9219V23.4219H225.768H244.518C245.222 23.4219 245.659 23.5976 245.922 23.8614C246.186 24.1252 246.362 24.5614 246.362 25.2656C246.362 25.9698 246.186 26.4061 245.922 26.6699C245.659 26.9337 245.222 27.1094 244.518 27.1094H235.643V25.2656V24.7656H235.143H225.768H225.268V25.2656V46.3594V46.8594H225.768H235.143H235.643V46.3594V38.1915L248.852 51.4004L248.999 51.5469H249.206H260.924Z" stroke={color} />
                    <path id="strokep" d="M201.503 46.583L201.641 46.8594H201.95H220.7H221.461L221.159 46.1609L202.409 2.80154L201.95 1.74027L201.491 2.80154L182.741 46.1609L182.439 46.8594H183.2H192.575H192.9L193.032 46.5624L197.013 37.6041L201.503 46.583ZM206.384 36.4844H197.511L201.95 26.4972L206.384 36.4844Z" stroke={color} />
                    <path id="strokep" d="M167.138 13.3233L162.648 22.3021L158.667 13.3438L158.535 13.0469H158.21H148.835H148.074L148.376 13.7452L162.254 45.8594H150.007H149.698L149.56 46.1358L144.872 55.5108L144.51 56.2344H145.319H167.632H167.957L168.089 55.937L186.792 13.7495L187.104 13.0469H186.335H167.585H167.276L167.138 13.3233ZM167.585 33.409L163.146 23.4219H172.019L167.585 33.409Z" stroke={color} />
                    <path id="strokep" d="M144.267 13.5469V13.0469H143.767H134.392H133.892V13.5469V46.3594V46.8594H134.392H143.767H144.267V46.3594V13.5469Z" stroke={color} />
                    <path id="strokep" d="M126.246 13.7878L126.654 13.0469H125.808H102.371H102.062L101.923 13.3233L97.2359 22.6983L96.8741 23.4219H97.6831H109.728L97.245 46.1184L96.8375 46.8594H97.6831H125.808H126.308V46.3594V36.9844V36.4844H125.808H113.763L126.246 13.7878Z" stroke={color} />
                    <path id="strokep" d="M73.4178 46.583L73.556 46.8594H73.865H92.615H93.376L93.0739 46.1609L74.3239 2.80154L73.865 1.74027L73.4061 2.80154L54.6561 46.1609L54.354 46.8594H55.115H64.49H64.8149L64.9469 46.5624L68.9284 37.6041L73.4178 46.583ZM78.299 36.4844H69.426L73.8648 26.4972L78.299 36.4844Z" stroke={color} />
                    <path id="strokep" d="M34.8123 26.4972L39.2466 36.4844H30.3735L34.8123 26.4972ZM25.8944 46.5624L29.8759 37.6041L34.3653 46.583L34.5035 46.8594H34.8125H53.5625H54.3235L54.0214 46.1609L35.2714 2.80154L34.8129 1.74108L34.3537 2.80129L27.7593 18.0274L21.2093 2.8024L20.7512 1.73754L20.2911 2.80154L1.54107 46.1609L1.23904 46.8594H2H11.375H11.6999L11.8319 46.5624L20.7319 26.5375L22.3637 30.5107L15.6035 46.1611L15.3019 46.8594H16.0625H25.4375H25.7624L25.8944 46.5624Z" stroke={color} />
                </svg>
            )}
        </Link>
    );
};